generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           String   @id @default(uuid()) @db.Uuid
  nom          String?
  prenom       String?
  pseudo       String?
  motDePasse   String?  @map("mot_de_passe")
  photoProfil  String?  @map("photo_profil")
  roles        Role[]
}

model Role {
  id          String @id @default(uuid()) @db.Uuid
  admin       Boolean @default(false)
  userId      String? @map("id_utilisateur") @db.Uuid
  user        User?  @relation(fields: [userId], references: [id])
}

model Plongee {
  id          String   @id @default(uuid()) @db.Uuid
  titre       String?
  description String?
  profondeur  Int?
  temps_plonhee Int?    @map("temps_plongee")
  pseudo      String?
  motDePasse  String?  @map("mot_de_passe")
  date        DateTime?
  type        String?
  relations   RelationTable[]
}

model Espece {
  id    String @id @default(uuid()) @db.Uuid
  nom   String?
  image String?
  relations RelationTable[]
}

model RelationTable {
  id        String @id @default(uuid()) @db.Uuid
  idPlongee String @map("id_plongee") @db.Uuid
  idEspece  String @map("id_espece") @db.Uuid

  plongee Plongee @relation(fields: [idPlongee], references: [id])
  espece  Espece  @relation(fields: [idEspece], references: [id])
}
